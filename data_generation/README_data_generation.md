# BMI706: Data Visualization Project Mortality Data
---
Author: Benedikt Geiger <br>
April 2022
---

The original mortality and population data was obtained by querying [CDC WONDER](https://wonder.cdc.gov/mortSQL.html)
and accessing the [publicly available](https://www.cdc.gov/nchs/data_access/cmf.htm) compressed population and mortality files for the years 1968-1988.
For details on the original data, please check out [the CDC webpage](https://www.cdc.gov/nchs/data_access/cmf.htm).


All mortality and populations files for the years 1968-2016 can be generated by executing the script `generate_files.sh` via

```bash
./generate_files.sh
```

All generated population files will be tab separated files with information about the absolute population per state, (county), year, race, gender and age group. <br>
All generated mortality files will be tab separated files with inforamtion about the absolute number of deaths and the mortality rate per state, (county), year, race, gender, age group and ICD group. <br>

The script generates the following data in the population subfolder:

* The original state-level population files for 1968-2016 queried with CDC WONDER and the county-level compressed 
population files for the years 1968-1978 and 1979-1988.
These files will be located in `./population/original_files/`
	
* Tidy state-level population files for the years 1968-1978 (ICD8), 1979-1998 (ICD9) and 1999-2016 (ICD10) and
a state-level population file for 1968-2016 restricted to the White and Black population. Notice that only death
counts for White and Black people can be compared across the entire time due to a change of race classification
in 1999.
These files will be located in `./population/state_level/`
	
* Tidy county-level population files for the years 1968-1978 (ICD8) and 1979-1988 (ICD9) in long and wide format
with respect to the age group.
These files will be located in `./population/county_level/`
	

	
The script generates the following data in the mortality subfolder:

* The original state-level mortality files for 1968-2016 queried from CDC WONDER and the county-level compressed
mortality files files for the years 1968-1978 and 1979-1988.
These files will be located in `./mortality/original_files/`
	
* Tidy state-level mortality files for the years 1968-1978 (ICD8), 1979-1998 (ICD9) and 1999-2016 (ICD10) and
a state-level mortality file for 1968-2016 restricted to the White and Black population, all ICD groups that
did not change between 1968 and 2016 and data points with at least 5 deaths per (state, year, race, gender, age group).
The list of these 18 "stable" ICD groups is located in `./dics_and_lists/ICD_all.tsv`.
The 1968-1978 mortality file contains data points with less than 5 deaths per (state, year, race, gender, age group),
but the 1979-1998 and 1999-2016 files do not due to privacy changes in 1989. Mortality rates computed with less than
10 deaths per (state, year, race, gender, age group) are flagged as unreliable.
These files will be located in `./mortality/state_level/`
	
* Tidy county-level mortality files for the years 1968-1978 (ICD8) and 1979-1988 (ICD9). Mortality rates computed with less than
10 deaths per (state, county, year, race, gender, age group) are flagged as unreliable.
These files will be located in `./mortality/county_level/`
